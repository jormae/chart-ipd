(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[582],{5151:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/reaudit-chart",function(){return t(3853)}])},3853:function(e,n,t){"use strict";t.r(n),t.d(n,{DataContext:function(){return U},default:function(){return Y}});var r=t(8520),c=t.n(r),o=t(5893),s=t(7294),a=t(7536),i=t(9072),l=t(9837),u=t(4373),h=t(7836),d=t(9742),f=t(1359),x=t(6480),j=t(6388),g=t.n(j),p=t(381),Z=t.n(p),m=t(6501),v=t(500),b=t(5499),P=t(918),y=t(244),w=t(9417),N=t(3978),O=t(9807),S=t(7272),_=t(6777),k=function(){var e=(0,s.useContext)(U);return(0,o.jsxs)(l.Z,{children:[(0,o.jsx)(d.Z,{title:"\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23\u0e23\u0e35\u0e2d\u0e2d\u0e14\u0e34\u0e17\u0e0a\u0e32\u0e23\u0e4c\u0e15",titleTypographyProps:{variant:"h6"}}),(0,o.jsx)(u.Z,{sx:{margin:0}}),(0,o.jsx)(f.Z,{children:(0,o.jsx)(_.Z,{component:P.Z,children:(0,o.jsxs)(y.Z,{sx:{minWidth:650},"aria-label":"simple table",children:[(0,o.jsx)(N.Z,{children:(0,o.jsxs)(w.Z,{children:[(0,o.jsx)(S.Z,{align:"center",children:"AN"}),(0,o.jsx)(S.Z,{align:"center",children:"HN"}),(0,o.jsx)(S.Z,{align:"center",children:"\u0e0a\u0e37\u0e48\u0e2d-\u0e2a\u0e01\u0e38\u0e25"}),(0,o.jsx)(S.Z,{align:"center",children:"\u0e2b\u0e2d\u0e1c\u0e39\u0e49\u0e1b\u0e48\u0e27\u0e22"}),(0,o.jsx)(S.Z,{align:"center",children:"\u0e27\u0e31\u0e19\u0e17\u0e35\u0e48 Discharge"}),(0,o.jsx)(S.Z,{align:"center",children:"\u0e0a\u0e37\u0e48\u0e2d\u0e41\u0e1e\u0e17\u0e22\u0e4c"})]})}),(0,o.jsx)(O.Z,{children:e.blogs.map((function(e){return(0,o.jsxs)(w.Z,{children:[(0,o.jsx)(S.Z,{component:"th",scope:"row",children:e.an}),(0,o.jsx)(S.Z,{align:"center",children:e.hn}),(0,o.jsx)(S.Z,{align:"left",children:e.ptName}),(0,o.jsx)(S.Z,{align:"left",children:e.wardName}),(0,o.jsx)(S.Z,{align:"center",children:e.dischargeDate}),(0,o.jsx)(S.Z,{align:"left",children:e.dischargeDoctor})]},e.an)}))})]})})})]})},C=(t(1360),t(3025));function E(e,n,t,r,c,o,s){try{var a=e[o](s),i=a.value}catch(l){return void t(l)}a.done?n(i):Promise.resolve(i).then(r,c)}function T(e){return function(){var n=this,t=arguments;return new Promise((function(r,c){var o=e.apply(n,t);function s(e){E(o,r,c,s,a,"next",e)}function a(e){E(o,r,c,s,a,"throw",e)}s(void 0)}))}}function D(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function I(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){D(e,n,t[n])}))}return e}var U=(0,s.createContext)(),Y=function(){var e=localStorage.getItem("staffName"),n=Z()().format("YYYY-MM-DD"),t=(0,s.useState)({blogs:[]}),r=t[0],j=t[1],p=T(c().mark((function e(){var n,t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=C.Z.baseURL+"/chart/reaudit-chart",e.prev=1,e.next=4,g().get(n);case 4:t=e.sent.data,j({blogs:t}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),P=(0,a.cI)(),y=P.register,w=P.resetField,N=P.handleSubmit,O=(P.formState.errors,T(c().mark((function e(){var n,t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=localStorage.getItem("token"),t=C.Z.baseURL+"/auth/token",fetch(t,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}}).then((function(e){return e.json()})).then((function(e){console.log(e),"success"!==e.status&&(localStorage.removeItem("token"),localStorage.removeItem("staffName"),window.location="/pages/login",console.log(e))})).catch((function(e){console.error("Error:",e)}));case 3:case"end":return e.stop()}}),e)}))));return(0,s.useEffect)((function(){O(),p()}),[j]),(0,o.jsx)(v.Z,{children:(0,o.jsxs)(i.ZP,{container:!0,spacing:6,children:[(0,o.jsx)(i.ZP,{item:!0,xs:12,children:(0,o.jsx)(b.Z,{})}),(0,o.jsx)(i.ZP,{item:!0,xs:12,children:(0,o.jsxs)(l.Z,{children:[(0,o.jsx)(d.Z,{title:"\u0e2a\u0e48\u0e07\u0e23\u0e35\u0e2d\u0e2d\u0e14\u0e34\u0e17\u0e0a\u0e32\u0e23\u0e4c\u0e15",titleTypographyProps:{variant:"h6"}}),(0,o.jsx)(m.x7,{}),(0,o.jsx)(u.Z,{sx:{margin:0}}),(0,o.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:N((function(n){console.log(n);var t=n.an,r=n.date,c=C.Z.baseURL+"/chart/reaudit-chart/".concat(t,"/").concat(e,"/").concat(r);console.log(c),fetch(c,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){console.log(e),"success"==e.status?(m.ZP.success(e.message),p()):m.ZP.error(e.errors[0].msg)})).catch((function(e){console.log(JSON.stringify(e))})),w("an")})),children:(0,o.jsx)(f.Z,{children:(0,o.jsxs)(i.ZP,{container:!0,spacing:5,children:[(0,o.jsx)(i.ZP,{item:!0,xs:12}),(0,o.jsxs)(i.ZP,{item:!0,xs:12,sm:12,children:[(0,o.jsx)(h.Z,I({autoFocus:!0,fullWidth:!0,label:"\u0e2a\u0e41\u0e01\u0e19\u0e1a\u0e32\u0e23\u0e4c\u0e42\u0e04\u0e49\u0e14",placeholder:"\u0e2a\u0e41\u0e01\u0e19\u0e1a\u0e32\u0e23\u0e4c\u0e42\u0e04\u0e49\u0e14"},y("an",{required:!0}))),(0,o.jsx)(x.Z,I({type:"hidden"},y("staffName",{value:e}))),(0,o.jsx)(x.Z,I({type:"hidden"},y("date",{value:n})))]})]})})})]})}),(0,o.jsx)(U.Provider,{value:r,children:(0,o.jsx)(i.ZP,{item:!0,xs:12,children:(0,o.jsx)(k,{})})})]})})}}},function(e){e.O(0,[885,395,524,714,669,763,715,774,888,179],(function(){return n=5151,e(e.s=n);var n}));var n=e.O();_N_E=n}]);